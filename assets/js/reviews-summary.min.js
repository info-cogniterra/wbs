
// reviews-summary.min.js
(function(){function s(){if(document.getElementById("reviews-summary-styles"))return;var e=document.createElement("style");e.id="reviews-summary-styles";e.textContent=".reviews-summary{display:flex;gap:14px;align-items:center;justify-content:center;margin:24px auto 12px;max-width:960px}.reviews-summary .badge{display:flex;align-items:center;gap:10px;padding:10px 14px;border:1px solid rgba(0,0,0,.08);border-radius:12px;background:rgba(255,255,255,.6);backdrop-filter:saturate(120%) blur(2px)}[data-theme=dark] .reviews-summary .badge{border-color:rgba(255,255,255,.12);background:rgba(0,0,0,.3)}.reviews-summary .score{font-weight:700;font-size:18px;min-width:46px;text-align:center}.reviews-summary .stars{display:inline-block;position:relative;width:92px;height:18px;background:linear-gradient(90deg,#d1d5db 50%,#d1d5db 50%);mask:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='92' height='18' viewBox='0 0 92 18'%3E%3Cg fill='none' stroke='%23000' stroke-width='0'%3E%3Cpath fill='%23fff' d='M9 0l2.2 5.5 5.8.5-4.4 3.7 1.4 5.7L9 12.9 4 15.4 5.4 9.7 1 6l5.8-.5z'/%3E%3C/g%3E%3C/svg%3E\") left/18px 18px repeat-x;-webkit-mask:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='92' height='18' viewBox='0 0 92 18'%3E%3Cg fill='none' stroke='%23000' stroke-width='0'%3E%3Cpath fill='%23fff' d='M9 0l2.2 5.5 5.8.5-4.4 3.7 1.4 5.7L9 12.9 4 15.4 5.4 9.7 1 6l5.8-.5z'/%3E%3C/g%3E%3C/svg%3E\") left/18px 18px repeat-x}.reviews-summary .stars>i{position:absolute;inset:0;background:#f2b705}.reviews-summary .count{opacity:.75}.reviews-summary .all-link{margin-left:10px;text-decoration:none;border:1px solid transparent;padding:8px 12px;border-radius:10px}.reviews-summary .all-link:hover{border-color:rgba(0,0,0,.15)}[data-theme=dark] .reviews-summary .all-link:hover{border-color:rgba(255,255,255,.25)}",document.head.appendChild(e)}async function o(){var e=window.GOOGLE_API_KEY,t=window.GOOGLE_PLACE_ID;if(!e||!t)return null;var r=`https://places.googleapis.com/v1/${t}`,n=await fetch(r,{headers:{"X-Goog-Api-Key":e,"X-Goog-FieldMask":"rating,userRatingCount"}});return n.ok?await n.json():null}function a(){var e=document.querySelector('a[href*="g.page/"][href*="/review"]');return e?e.href.replace(/\/review\/?$/,""):window.GOOGLE_PLACE_ID?"https://www.google.com/maps/search/?api=1&query="+encodeURIComponent("place_id:"+window.GOOGLE_PLACE_ID.replace(/^places\//,"")):"https://www.google.com/maps"}function i(e,t,r){s();var n=document.createElement("div");n.className="reviews-summary";var d=Math.max(0,Math.min(100,t/5*100));n.innerHTML=`<div class="badge"><span class="score">${t.toFixed(1)}/5</span><span class="stars"><i style="width:${d}%"></i></span><span class="count">· ${r} hodnocení</span></div><a class="all-link" href="${a()}" target="_blank" rel="noopener">Zobrazit vše na Googlu</a>`,e.parentNode.insertBefore(n,e)}async function l(){try{var e=document.getElementById("google-reviews-root");if(!e)return;var t=await o();t&&"number"==typeof t.rating&&i(e,t.rating||0,t.userRatingCount||0)}catch{}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l();})();
